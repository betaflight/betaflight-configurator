# FC: {{fcKey}}
# Drone Size: {{droneSize}}
# Manticore: {{manticoreKey}}
# Video: {{vtxKey}}
# GPS: {{gpsEnabled}}
# Craft Name: {{craftName}}
# MB ID: {{mbId}}

defaults nosave
batch start
defaults nosave

{{!-- GPIO Configuration --}}
{{#if (eq manticoreKey 'GPIO')}}
# RESOURCES CONFIGURATION
  {{!-- FLASHHOBBYF405 specific GPIO resources --}}
  {{#if (eq fcKey 'FLASHHOBBYF405')}}
resource PINIO 1 A01
resource PINIO 2 A00
  {{/if}}
  {{!-- TAKERF722SE specific GPIO resources --}}
  {{#if (eq fcKey 'TAKERF722SE')}}
resource PINIO 1 A03
resource PINIO 3 A02
  {{/if}}
  {{!-- Common GPIO configuration for ALL GPIO setups --}}
set pinio_config = 1,1,1,1
set pinio_box = 58,255,59,255
{{/if}}

# FEATURES CONFIGURATION
{{!-- Common features for all configurations --}}
feature TELEMETRY
feature OSD
{{!-- GPS feature --}}
{{#if gpsEnabled}}
feature GPS
{{/if}}

# PORTS CONFIGURATION
{{#if (ne vtxKey 'OPTICA')}}
serial UART1 8192 115200 57600 0 115200
{{/if}}
{{!-- Manticore UART Configuration --}}
{{#if (eq manticoreKey 'UART')}}
  {{#if (eq fcKey 'FLASHHOBBYF405')}}
serial UART4 4194304 115200 57600 0 115200
  {{else}}
serial UART2 4194304 115200 57600 0 115200
  {{/if}}
{{/if}}
{{!-- Manticore GPIO Configuration --}}
{{#if (eq manticoreKey 'GPIO')}}
  {{#if (eq fcKey 'FLASHHOBBYF405')}}
serial UART4 2097152 115200 57600 0 115200
  {{else}}
serial UART2 2097152 115200 57600 0 115200
  {{/if}}
{{/if}}
serial UART5 64 115200 57600 0 115200
{{!-- GPS Configuration --}}
{{#if gpsEnabled}}
serial UART6 2 115200 57600 0 115200
{{/if}}
